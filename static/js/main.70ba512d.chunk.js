(this.webpackJsonpkonfi=this.webpackJsonpkonfi||[]).push([[0],{27:function(e,t,a){},29:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),s=a.n(i),r=a(18),o=a.n(r),c=(a(27),a(28),a.p+"static/media/logo.01210f68.png"),h=(a(29),a(13)),l=a(3),d=a(7),u=a(8),g=a(11),b=a(10),j=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"determineStyle",value:function(){var e="btn";return this.props.secondary&&(e+=" bg-indigo"),this.props.size&&("big"===this.props.size?e+=" btn-lg":"medium"===this.props.size?e+=" btn-md":"small"===this.props.size&&(e+=" btn-sm")),e}},{key:"render",value:function(){var e=this.determineStyle();return Object(n.jsx)("div",{className:e,onClick:this.props.onClick,children:this.props.text})}}]),a}(s.a.Component),p=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).canvasRef=s.a.createRef(),n.state={textValue:""},n}return Object(u.a)(a,[{key:"onInputHandler",value:function(e){var t;this.setState({textValue:e.target.value},null===(t=this.props)||void 0===t?void 0:t.onInput(e.target.value))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"TextareaParent",children:[Object(n.jsx)("textarea",{maxLength:this.props.textMaxLength,className:this.props.isDisabled?"InputTextArea TextDisabled":"InputTextArea",type:"text",placeholder:"Your Secret Message",value:this.state.textValue,onInput:this.onInputHandler.bind(this)}),Object(n.jsxs)("p",{className:"InformationText",children:["This image can only take up to ",this.props.textMaxLength," characters. You used ",this.state.textValue.length," characters ( not words )"]})]})}}]),a}(s.a.Component),f=a(19),m=a.n(f);function x(e){if(e<0||e>255||e%1!==0)throw new Error(e+" does not fit in a byte");return("000000000"+e.toString(2)).substr(-8)}function v(e){return parseInt(e,2)}function O(e,t){if(8!==e.length)throw new Error("This is not a valid byte!");return void 0===t?e:e.substr(0,7)+t}var y=function(){function e(t,a){Object(d.a)(this,e),this.rawImage=[],this.currentImg=a,this.imageContext=t,console.log("Steganography created with raw data. Dimensions",t)}return Object(u.a)(e,[{key:"CalculateByteSize",value:function(){if(this.currentImg)return this.currentImg.width*this.currentImg.height*3;throw new Error("Function requires an image! Please check your constructor")}},{key:"HideDataInContext",value:function(e){return this.CreateRawDataFromContext(),{data:this.EmbedTextInsideRawData(e),image:this.currentImg}}},{key:"CreateRawDataFromContext",value:function(){for(var e=[],t=0;t<this.currentImg.width;t++){for(var a=[],n=0;n<this.currentImg.height;n++){var i=this.imageContext.getImageData(t,n,1,1).data;a.push(i)}e.push(a)}this.rawImage=e}},{key:"EmbedTextInsideRawData",value:function(e){if(!this.rawImage)throw new Error("Please call CreateRawDataFromContext() first!");if(8*e.length>this.CalculateByteSize())throw new Error("Can't do the operation! Text is too big");e=btoa(unescape(encodeURIComponent(e))),console.log("Content length",e.length);var t=function(e){if(e<0||e>4294967296||e%1!==0)throw new Error(e+" does not fit in a 4294967296");return("00000000000000000000000000000000"+e.toString(2)).substr(-32)}(e.length),a=function(e){for(var t="",a=0;a<e.length;a++)t+=("000000000"+e[a].charCodeAt(0).toString(2)).substr(-8);return t}(e);a=t+a;for(var n=0,i=0;i<this.rawImage.length;i++)for(var s=0;s<this.rawImage[0].length;s++){for(var r=0;r<3;r++){var o=this.rawImage[i][s][r];this.rawImage[i][s][r]=v(O(x(o),a[n])),n++}if(n>=a.length)return this.rawImage}}},{key:"GetHiddenContent",value:function(){for(var e="",t=0;t<this.currentImg.width;t++){for(var a=0;a<this.currentImg.height;a++){for(var n=this.imageContext.getImageData(t,a,1,1).data,i=0;i<3&&32!==(e+=x(n[i]).slice(-1)).length;i++);if(32===e.length)break}if(32===e.length)break}var s=v(e),r=-32,o="";for(t=0;t<this.currentImg.width;t++){for(a=0;a<this.currentImg.height;a++){for(var c=this.imageContext.getImageData(t,a,1,1).data,h=0;h<3&&(o+=x(c[h]).slice(-1),!(++r>=8*s));h++);if(r>=8*s)break}if(r>=8*s)break}return decodeURIComponent(escape(atob(function(e){if(e.match(/[10]{8}/g))return e.match(/([10]{8}|\s+)/g).map((function(e){return String.fromCharCode(parseInt(e,2))})).join("")}(o.substr(32)))))}}]),e}(),w=a(20),C=a.n(w),I=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).canvasRef=s.a.createRef(),n.steganObj=null,n.state={isUploaded:!1,maxCharCount:100,disableTextarea:!1,userContent:""},n}return Object(u.a)(a,[{key:"onChangeFile",value:function(e){e.stopPropagation(),e.preventDefault();var t=this,a=e.target.files[0],n=this.canvasRef.current,i=new FileReader;i.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){n.width=a.width,n.height=a.height;var e=n.getContext("2d");e.drawImage(a,0,0),t.setState({isLoading:!0},(function(){t.steganObj=new y(e,a);var n=t.steganObj.CalculateByteSize();t.setState({maxCharCount:Math.floor(n/10.96),isUploaded:!0,isLoading:!1})}))}},i.readAsDataURL(a)}},{key:"saveCanvas",value:function(){var e=this,t=this;t.setState({isLoading:!0},(function(){for(var a=e.steganObj.HideDataInContext(e.state.userContent),n=e.canvasRef.current,i=n.getContext("2d"),s=0;s<a.image.width;s++)for(var r=0;r<a.image.height;r++)i.putImageData(new ImageData(a.data[s][r],1,1),s,r);m()(n,{name:"ImageCrypted",type:"png",quality:1}),t.setState({isLoading:!1,disableTextarea:!0})}))}},{key:"onTextInputChange",value:function(e){this.setState({userContent:e})}},{key:"render",value:function(){var e=this,t=this.state.isUploaded?{height:"auto"}:{height:"0px"};return Object(n.jsxs)("div",{className:"CryptHolder",children:[this.state.isLoading&&Object(n.jsx)("span",{className:"LoadingFrame",children:Object(n.jsx)(C.a,{className:"LoadingSpinner",type:"Grid",color:"#5A4FCF",height:100,width:100})}),Object(n.jsx)("h2",{children:"Hide Your Message"}),Object(n.jsx)("p",{children:" Hide a text message in your image. Don't worry, it won't be visible in your image. You can learn more about this in About section."}),this.state.isUploaded&&Object(n.jsx)(j,{size:"big",text:"Reupload",onClick:function(){e.upload.click()}}),!this.state.isUploaded&&Object(n.jsx)(j,{size:"big",text:"Upload",onClick:function(){e.upload.click()}}),Object(n.jsx)("canvas",{className:"ImageCanvas",ref:this.canvasRef,style:t}),Object(n.jsx)("input",{id:"fileUploadInput",type:"file",accept:"image/png",ref:function(t){return e.upload=t},style:{display:"none"},onChange:this.onChangeFile.bind(this)}),this.state.isUploaded&&Object(n.jsxs)("span",{style:{display:"contents"},children:[Object(n.jsx)(p,{isDisabled:this.state.disableTextarea,textMaxLength:this.state.maxCharCount,onInput:this.onTextInputChange.bind(this)}),Object(n.jsx)(j,{text:"Download",secondary:!0,onClick:function(){e.saveCanvas()}}),Object(n.jsx)("subtitle",{children:"This can take a while if your image is big"})]})]})}}]),a}(s.a.Component),k=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).canvasRef=s.a.createRef(),n.steganObj=null,n.state={isUploaded:!1,hiddenText:""},n}return Object(u.a)(a,[{key:"onChangeFile",value:function(e){e.stopPropagation(),e.preventDefault();var t=this,a=e.target.files[0],n=this.canvasRef.current,i=new FileReader;i.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){try{n.width=a.width,n.height=a.height;var i=n.getContext("2d");i.drawImage(a,0,0),t.steganObj=new y(i,a);var s=t.steganObj.GetHiddenContent();t.setState({hiddenText:s,isUploaded:!0})}catch(e){t.setState({haveError:!0,isUploaded:!0})}}},i.readAsDataURL(a)}},{key:"replaceURLWithHTMLLinks",value:function(e){return{__html:e.replace(/(\b(https?|http|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a target='_blank' href='$1'>$1</a>")}}},{key:"render",value:function(){var e=this,t=this.state.isUploaded?{height:"auto"}:{height:"0px"};return Object(n.jsxs)("div",{className:"CryptHolder",children:[Object(n.jsx)("h2",{children:"Reveal Hidden Message"}),Object(n.jsx)("p",{children:" If your image includes a hidden message, you can reveal it from here. You can learn more about this in About section."}),Object(n.jsx)("canvas",{className:"ImageCanvas",ref:this.canvasRef,style:t}),Object(n.jsx)("input",{id:"fileUploadInput",type:"file",accept:"image/png",ref:function(t){return e.upload=t},style:{display:"none"},onChange:this.onChangeFile.bind(this)}),this.state.isUploaded&&Object(n.jsxs)("div",{style:{width:"100%"},children:["Hidden text is: ",Object(n.jsx)("div",{className:"HiddenTextContainer",dangerouslySetInnerHTML:this.replaceURLWithHTMLLinks(this.state.hiddenText)})," "]}),Object(n.jsx)(j,{text:"Upload",size:"big",onClick:function(){e.upload.click()}}),Object(n.jsx)("subtitle",{children:"This can take a while if your image is big. Please wait"}),this.state.haveError&&Object(n.jsx)("div",{className:"ErrorPanel",children:"Oh! Something happened. It might be because your image is corrupted or we messed up something. Either way, you can't use this image."})]})}}]),a}(s.a.Component),R=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"AboutSection",children:[Object(n.jsxs)("div",{className:"ImageHolder",children:[" ",Object(n.jsx)("img",{alt:"Demo",src:"https://i.ibb.co/DLNzGjX/Untitled.png"})," "]}),Object(n.jsx)("h1",{children:"About"}),Object(n.jsx)("h3",{children:"About Steganography"}),Object(n.jsxs)("p",{children:["Steganography is the technique of hiding secret data within an ordinary, non-secret, file or message in order to avoid detection; the secret data is then extracted at its destination. The use of steganography can be combined with encryption as an extra step for hiding or protecting data. The word steganography is derived from the Greek words steganos (meaning hidden or covered) and the Greek root graph (meaning to write).",Object(n.jsx)("br",{}),"Steganography can be used to conceal almost any type of digital content, including text, image, video or audio content; the data to be hidden can be hidden inside almost any other type of digital content. The content to be concealed through steganography -- called hidden text -- is often encrypted before being incorporated into the innocuous-seeming cover text file or data stream. If not encrypted, the hidden text is commonly processed in some way in order to increase the difficulty of detecting the secret content."]}),Object(n.jsx)("h3",{children:"About Konfi"}),Object(n.jsxs)("p",{children:["Konfi is a small project that demonstrates the usage of Steganography algorithms.",Object(n.jsx)("br",{}),"All you need to do is uploading a photo and defining your message. Rest will be handled by the algorithm.",Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:" You are not uploading anything to any server - everything happens in the browser, hence, it's secure ( also slow if you upload a huge image ) "})]}),Object(n.jsx)("h3",{children:" Technical Information "}),Object(n.jsxs)("p",{children:["For this project, I'm using a quite common technique which is called LSB Replacing. LSB stands for ",Object(n.jsx)("b",{children:"least significant bit"}),". If you are not familiar with bits and bytes, here is an example of how a byte looks like in binary. ",Object(n.jsx)("br",{})," ",Object(n.jsx)("img",{alt:"Bytes",src:"https://i.ibb.co/jRw62j3/Untitled.jpg"}),Object(n.jsx)("br",{}),"What Konfi does is the following:",Object(n.jsx)("br",{}),"It converts the entire message to Base64 to avoid any conversion loss, then it converts it to bytes hence to its bits. Then, it gets each pixel, breaks each pixel into its channels ( Red, Green, Blue and Alpha ) and breaks down each channel into bits. Once this is done, rest is just replacing each bit with the message's bits. Depending on your content and depending on your style, this process can take a while. Once the process is completed, you can download the file.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Beware:"})," ",Object(n.jsxs)("i",{children:["I'm exporting images in PNG format. It should ",Object(n.jsx)("b",{children:"always"})," keep it in this format. JPEG and other formats are not a lossless compression. Any compression can result in a break in the message structure. "]})]})]})}}]),a}(s.a.Component);var S=function(){return Object(n.jsxs)(h.a,{children:[Object(n.jsx)("nav",{className:"navbar",children:Object(n.jsxs)("ul",{className:"nav",children:[Object(n.jsx)("img",{alt:"logo",src:c,className:"logo"}),Object(n.jsx)("h1",{className:"BrandName",children:"Konfi"}),Object(n.jsx)("li",{children:Object(n.jsx)(h.b,{to:"/konfi/",children:"Hide"})}),Object(n.jsx)("li",{children:Object(n.jsx)(h.b,{to:"/konfi/reveal",children:"Reveal"})}),Object(n.jsx)("li",{children:Object(n.jsx)(h.b,{to:"/konfi/about",children:"About"})})]})}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/konfi/about",children:Object(n.jsx)(R,{})}),Object(n.jsx)(l.a,{path:"/konfi/reveal",children:Object(n.jsx)(k,{})}),Object(n.jsx)(l.a,{path:"/konfi/",children:Object(n.jsx)(I,{})}),Object(n.jsx)(l.a,{path:"/",children:Object(n.jsx)(I,{})})]})]})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),s(e),r(e)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),T()}},[[59,1,2]]]);
//# sourceMappingURL=main.70ba512d.chunk.js.map